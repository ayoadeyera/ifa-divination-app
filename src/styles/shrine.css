/* --- The Shrine Container (Holds the Tray) --- */
.shrine-header {
    position: relative;
    z-index: 2;
    height: 100vh;
    width: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    transition: all 0.8s cubic-bezier(0.2, 0.8, 0.2, 1); /* Smooth Animation */
}

/* --- Layer 2: The Opon Ifa (Tray) --- */
.opon-ifa {
    width: 340px;
    height: 340px;
    /* Fallback color if image fails */
    background-color: #5c3a21; 
    /* Ideally, replace this URL with a real wood texture later */
    background-image: linear-gradient(135deg, #6e4526, #3e2613); 
    border-radius: 50%;
    /* This border creates the "rim" of the tray */
    border: 12px solid #2a1b0d; 
    /* Deep Drop Shadow for 3D effect */
    box-shadow: 
        inset 0 0 40px rgba(0,0,0,0.8), /* Shadow inside the rim */
        0 20px 50px rgba(0,0,0,0.9);   /* Shadow on the mat */
    
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition: all 0.8s ease;
}

/* The Esu Marker (Orientation Point) */
.opon-marker {
    position: absolute;
    top: 15px;
    font-size: 20px;
    color: #3e2613;
    text-shadow: 0 1px 1px rgba(255,255,255,0.1);
}

/* --- Layer 3: The Opele (Chain) --- */
.opele-chain {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    /* Add a slight rotation so it looks organic, not robotic */
    transform: rotate(-2deg); 
}

.chain-legs {
    display: flex;
    gap: 50px; /* Space between Right and Left legs */
}

.leg {
    display: flex;
    flex-direction: column;
    gap: 12px; /* Space between seeds */
    align-items: center;
}

/* The Individual Seeds */
.seed {
    width: 40px;
    height: 28px;
    border-radius: 14px; /* Oval shape */
    transition: all 0.3s ease;
}

/* Visual state for OPEN (I) - Concave/Light */
.seed[data-state="open"] {
    background-color: #dcbfa6; /* Bone/Shell color */
    box-shadow: inset 2px 2px 5px rgba(0,0,0,0.3);
    border: 1px solid #bba38e;
}

/* Visual state for CLOSED (II) - Convex/Dark */
.seed[data-state="closed"] {
    background-color: #3e2b1f; /* Dark shell back */
    /* External shadow to show it is rounded outwards */
    box-shadow: 4px 4px 8px rgba(0,0,0,0.6); 
    border: 1px solid #221811;
}

/* --- State B: Reading Mode (Shrunk) --- */
.state-reading .shrine-header {
    height: 35vh; /* Shrink container to top */
    justify-content: flex-end; /* Push tray to bottom of header */
    padding-bottom: 20px;
}

.state-reading .opon-ifa {
    width: 140px; /* Shrink Tray */
    height: 140px;
    border-width: 5px;
}

.state-reading .seed {
    width: 16px; /* Shrink Seeds */
    height: 12px;
    border-radius: 6px;
    gap: 4px;
}
.state-reading .chain-legs {
    gap: 20px;
}